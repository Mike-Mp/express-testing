"use strict";var axios=require("axios");exports.homePage=function(e,t){t.render("index",{title:"Index"})},exports.getData=function(t,r){var n,a,c,s,o;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n="q=".concat(t.query.searchTerm),a=t.query.limit||16,c="limit=".concat(a),"https://api.jikan.moe/v3/search/anime?",s=t.query.type?"type=".concat(t.query.type):"",e.next=7,regeneratorRuntime.awrap(axios.get("".concat("https://api.jikan.moe/v3/search/anime?").concat(n,"&").concat(c,"&").concat(s)).then(function(e){return e.data}).catch(function(e){return console.log(e)}));case 7:if(0===(o=(o=e.sent).results).length)return t.flash("error","Please input something foundable"),e.abrupt("return",r.redirect("/"));e.next=12;break;case 12:r.render("results",{results:o});case 13:case"end":return e.stop()}})};